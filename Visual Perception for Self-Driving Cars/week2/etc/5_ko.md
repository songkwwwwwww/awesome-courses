지금까지 우리는 자율주행 차량 애플리케이션을 위해 이미지 기능을 사용하는 데 필요한 세 단계를 설명했습니다. 우리는 또한 기능 매칭이 이상값에 그다지 강력하지 않다고 언급했다. 이 수업에서는 이상값이 무엇이며 실제 문제를 해결하기 위해 이미지 기능 사용에 어떤 영향을 미칠 수 있는지 설명할 것입니다. 우리는 또한 무작위 샘플 합의 또는 줄여서 RANSAC이라는 이상값을 처리하는 강력한 방법을 제공할 것입니다. 이 방법은 다른 인식 작업에서 기능 사용에 강한 부정적인 영향을 미칠 수 있으므로 이상값을 파악하고 제거하는 데 도움이 될 것입니다. 하지만 먼저, 차량 현지화의 실제 문제를 위한 3단계 기능 추출 프레임워크의 사용을 소개하겠습니다. 우리의 현지화 문제는 다음과 같이 정의됩니다: 다른 관점에서 같은 장면의 두 이미지를 감안할 때, 빨간색으로 표시된 첫 번째 이미지의 좌표계와 녹색으로 표시된 두 번째 이미지의 좌표계 사이의 번역 T를 찾으십시오. 실제로, 우리는 또한 다른 관점으로 인해 규모와 왜곡을 해결하고 싶다. 하지만 우리는 이 예시를 현재 주제에 집중하기 위해 간단하게 유지할 것이다. 이 현지화 문제를 해결하려면 다음 단계를 수행해야 합니다. 먼저, 이미지 2의 u 이미지 축에서 이미지 1의 변위를 찾아야 합니다. 우리는 이 변위 t sub u라고 부른다. 둘째, 우리는 이미지 2의 v축에서 이미지 1의 변위를 찾아야 하며, 이 변위 t sub v라고 부를 것이다. 이미지 간의 기능을 일치시킨 다음 이러한 일치하는 기능을 가장 잘 정렬하는 변위에 대해 해결하여 t sub u와 t sub v를 찾을 것입니다. 우리는 이미지 1과 이미지 2의 기능과 설명자를 계산하는 것으로 시작합니다. 그런 다음 이전 수업에서 개발한 무차별 대입 matcher를 사용하여 이러한 기능을 일치시킵니다. 우리의 무차별 대입 경기 결과에서 조금 벗어난 것이 있나요? 걱정하지 마. 우리는 조금 있다가 이 결과로 돌아올 것이다. 하지만 먼저, 일치하는 특징의 관점에서 문제의 해결책을 수학적으로 정의해 봅시다. 우리는 이미지 1과 2의 기능 쌍을 f1 서브 i와 f2 서브 i로 나타냅니다. 여기서 i는 0에서 n 사이이며, 일치하는 알고리즘에 의해 반환되는 총 기능 쌍 수입니다. 기능 쌍의 각 기능은 픽셀 좌표 UI와 vi로 표시됩니다. 이미지의 모든 픽셀은 번역 t sub q와 t sub v를 적용한 후 이미지 2의 해당 픽셀과 일치해야 합니다. 그런 다음 기능 쌍을 사용하여 다음과 같이 번역을 모델링할 수 있습니다: 이미지 1의 피처의 위치는 모델 매개 변수 t sub u 및 t sub v를 통해 이미지 2의 해당 위치로 변환됩니다. 여기서 u 이미지 축 t sub u와 v 이미지 축 t sub v의 번역은 모든 기능 쌍에 대해 동일합니다. 우리가 딱딱한 신체 움직임을 가정하기 때문에. 이제 최소 제곱 추정치를 사용하여 t sub u와 t sub v를 해결할 수 있습니다. 최소 제곱 문제에 대한 해결책은 모든 픽셀 쌍 사이의 제곱 오류의 합을 최소화하는 t sub u와 t sub v의 값일 것이다. 이제 현지화 문제가 정의되었으므로, 기능 일치의 결과로 돌아가 봅시다. 기능 위치를 시각적으로 관찰함으로써, 보라색 원의 기능 쌍이 실제로 잘못 일치하는 것을 알 수 있습니다. 이것은 우리가 거리 비율 방법을 사용하더라도 발생하며, 기능 매칭에서 흔한 발생이다. 우리는 그러한 기능 쌍을 이상값이라고 부른다. 이상값은 기능 세트의 상당 부분을 포함할 수 있으며, 일반적으로 특히 최소 제곱 추정치를 사용할 때 모델 솔루션에 큰 부정적인 영향을 미칩니다. 이러한 이상값을 식별하고 최소 제곱 솔루션에서 사용하지 않도록 할 수 있는지 봅시다. 이상값은 무작위 샘플 합의 또는 줄여서 RANSAC라는 모델 기반 이상치 거부 방법을 사용하여 처리할 수 있습니다. 1981년 Martin Fischler와 Robert Bolles가 개발한 RANSAC은 로봇 공학에서 이상치 거부에 가장 많이 사용되는 모델 기반 방법 중 하나이다. RANSAC 알고리즘은 다음과 같이 진행됩니다: 첫째, 데이터 포인트 집합에서 문제 해결책을 식별하기 위한 모델을 감안할 때, 이 모델의 매개 변수를 계산하는 데 필요한 가장 작은 수의 M의 데이터 포인트 또는 샘플을 찾으십시오. 우리의 경우, 문제 현지화와 모델 매개 변수는 최소 제곱 솔루션의 t sub u 및 t sub v 오프셋입니다. 둘째, 데이터에서 M 샘플을 무작위로 선택하세요. 셋째, 데이터 세트에서 선택한 M 샘플만 사용하여 모델 매개 변수를 계산하십시오. 앞으로, 계산된 매개 변수를 사용하고 나머지 데이터 포인트 중 몇 개가 이 계산된 솔루션에 동의하는지 계산하십시오. 허용된 포인트는 유지되고 이상값이라고 불린다. 다섯째, inliers C의 수가 만족스럽거나 알고리즘이 미리 설정된 최대 반복 수를 반복한 경우, 계산된 솔루션과 inlier 세트를 종료하고 반환합니다. 그렇지 않으면, 2단계로 돌아가서 반복하세요. 마지막으로, 최고의 inlier 세트에서 모델 매개 변수를 재컴퓨팅하고 반환하십시오. 특징이 가장 많은 것. 이제 현지화 문제를 다시 검토하고 기능 매처의 이상값을 수용하려고 노력할 수 있습니다. 다시 말씀드리지만, 우리의 모델 매개 변수 t sub u와 t sub v는 각 기능 쌍을 첫 번째 이미지에서 두 번째 이미지로 동등하게 이동합니다. T sub u와 t sub v를 추정하려면 한 쌍의 기능이 필요합니다. 이제, 이 문제에 대한 RANSAC 알고리즘을 살펴보자. 먼저, 일치하는 샘플에서 하나의 기능 쌍을 무작위로 선택합니다. 이제, 우리는 계산된 기능 쌍을 사용하여 모델을 추정해야 합니다. 기능 쌍을 사용하여 u 이미지 축, t sub u 및 v 이미지 축을 따라 변위를 계산합니다. 이제 inliers 수를 계산하여 모델이 유효한지 확인해야 합니다. 여기서, 우리는 100% 정밀도로 모델을 만족시킬 가능성은 거의 없기 때문에 인라이어를 결정하기 위해 공차를 사용합니다. 불행하게도, 우리의 첫 번째 반복은 모델 매개 변수를 계산하기 위해 열악한 기능 일치를 선택했다. 이 모델을 사용하여 이미지 1의 얼마나 많은 기능이 이미지 2의 일치하는 위치로 변환되는지 계산할 때, 우리는 그들 중 누구도 그렇지 않다는 것을 알 수 있습니다. 우리의 이상값 수는 0이기 때문에, 우리는 돌아가서 무작위로 다른 기능 쌍을 선택하고 RANSAC 프로세스를 다시 시작합니다. 다시 한번, 우리는 새로운 모델 매개 변수를 얻기 위해 무작위로 샘플링된 새로운 기능 쌍을 사용하여 t sub u와 t sub v를 계산합니다. 모델을 사용하여, 우리는 이미지 2에서 얼마나 많은 기능과 이미지가 일치하는지 계산합니다. 이번에는 대부분의 기능이 실제로 이 모델에 맞는다는 것을 알 수 있습니다. 사실 12개의 기능 중 11개는 이상값으로 간주됩니다. 대부분의 기능은 이상값이기 때문에, 우리는 이 모델에 만족하며, RANSAC 알고리즘을 중지할 수 있습니다. 이 시점에서 당신은 이제 자율주행 차량 애플리케이션을 위한 이미지 기능의 적절한 사용을 이해해야 합니다. 기능 매칭 범위 내에서 이상값이 무엇인지, 그리고 RANSAC 알고리즘을 통해 이상값을 처리하는 방법을 배웠습니다. 이상치 제거는 기능 매칭을 사용할 때 견고성을 향상시키는 핵심 과정이며, 현지화 결과의 품질을 크게 향상시킵니다. 다음 비디오에서, 우리는 지금까지 배운 것을 사용하여 카메라 이미지 기능을 사용하여 자율주행 차량의 위치를 추정할 것입니다. 이것은 우리가 환경을 통해 우리 자신의 차량의 움직임을 추적하는 데 도움이 될 것이다. 시각 거리 측정으로 알려진 과정이며, 매끄럽고 안전하게 탐색하는 데 필수적이다.